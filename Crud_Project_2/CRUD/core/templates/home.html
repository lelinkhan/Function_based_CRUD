{% extends "base.html" %}
{% block title %} HOME {% endblock title %}
{% block main_content %}
    <h1 class="text-center text-white py-1 mx-5 sticky-top rounded my-2">Function Based Crud Project</h1>
       <section class="container my-4">
           <div class="row">
              <div class="col-sm-4">
                  <div class="add rounded">
                      <h2 class="text-center shadow-lg p-2 mt-5 ">Add Student</h2>
                  </div>
                <div class="card">
                  <div class="card-body">
                      <form action="" method="POST">
                          {% csrf_token %}
                            {{form.as_p}}
                          <div class="text-center mt-3">
                            <input class="btn btn-outline-primary " type="submit" value="Submit">
                          </div>
                      </form>
                  </div>
                </div>
              </div>
              <div class="col-sm-8">
                  <div class="info rounded">
                      <h2 class="text-center shadow-lg p-2 mt-5">Show Student Information</h2>
                  </div>
                <div class="card">
                  <div class="card-body">
                    <table class="table table-striped table-hover">
                          <thead>
                            <tr>
                                <th scope="col">Id</th>
                                <th scope="col">First_name</th>
                                <th scope="col">Last_name</th>
                                <th scope="col">Email</th>
                                <th scope="col">Student_Id</th>
                                <th scope="col">Action</th>
                            </tr>
                          </thead>
                          <tbody>
                          {% for s in all_student %}
                            <tr>
                                <th scope="row">{{forloop.counter}}</th>
                                <td>{{s.first_name}}</td>
                                <td>{{s.last_name}}</td>
                                <td>{{s.email}}</td>
                                <td>{{s.student_id}}</td>
                                <td><a class="btn btn-outline-warning " href="{% url 'edit_student' s.id %}" role="button">Edit</a></td>
                                <td>||</td>
                                <form action="{% url 'delete_student' s.id %}" method="POST">
                                    {% csrf_token %}
                                    <td><input type="submit" class="btn btn-outline-danger ml-0 pl-0" value="Delete"></td>
                                </form>
                            </tr>
                          {% endfor %}
                          </tbody>
                    </table>
                  </div>
                </div>
              </div>
        </div>
    </section>
{% endblock main_content %}